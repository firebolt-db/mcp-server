# [](#apache_datasketches_hll_merge)APACHE\_DATASKETCHES\_HLL\_MERGE

An aggregate function. Merges one or more [Apache DataSketches HLL sketches](https://datasketches.apache.org/docs/HLL/HLL.html) that were built using the aggregate function [APACHE\_DATASKETCHES\_HLL\_BUILD](/sql_reference/functions-reference/datasketches/apache-datasketches-hll-build.html) into a new sketch.

In order to get correct results each sketch must be built on the same `<expression>` datatype. Attempts to merge sketches for different datatypes will **NOT** result in an error, and it’s the user responsibility to merge skeches with the same datatype only. For example, you can merge a sketch built from `INTEGER` data with one built from `TEXT` data but the estimated cardinality will be incorrect.

If sketches are with different hll precision and hll type the merged sketch will be built with lowest precision and type of all inputs. For example, you can merge a sketch built with precision 13 and a sketch built with precision 14 and the result precision will be 13.

## [](#syntax)Syntax

```
APACHE_DATASKETCHES_HLL_MERGE
(<expression>)
```

## [](#parameters)Parameters

Parameter Description Supported input types `<expression>` An [Apache DataSketches HLL sketches](https://datasketches.apache.org/docs/HLL/HLL.html) in a valid format, e.g. the output of the [APACHE\_DATASKETCHES\_HLL\_BUILD](/sql_reference/functions-reference/datasketches/apache-datasketches-hll-build.html) function. `BYTEA`

## [](#return-type)Return Type

`BYTEA`

## [](#error-handling)Error Handling

If the input expression is not a valid [Apache DataSketches HLL sketches](https://datasketches.apache.org/docs/HLL/HLL.html), the function will raise an error. Ensure that the input is correctly formatted and generated by the [APACHE\_DATASKETCHES\_HLL\_BUILD](/sql_reference/functions-reference/datasketches/apache-datasketches-hll-build.html) function.

## [](#example)Example

Following the [example](/sql_reference/functions-reference/datasketches/apache-datasketches-hll-build.html#example) in [APACHE\_DATASKETCHES\_HLL\_BUILD](/sql_reference/functions-reference/datasketches/apache-datasketches-hll-build.html):

```
SELECT APACHE_DATASKETCHES_HLL_ESTIMATE(APACHE_DATASKETCHES_HLL_MERGE(a)) AS estimate,
       APACHE_DATASKETCHES_HLL_MERGE(a)                                   AS merged_sketch
FROM sketch_of_data_to_count;
```

estimate BIGINT merged\_sketch BYTEA 6673219 \\x0a0107120018000a….